<html>
<head>
    <title>A Scala Primer and Cheat Sheet. | Michael Sjoeberg</title>

    <!-- Google Source Code Pro Font -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"> -->

    <!-- Google Roboto Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!-- Google Code Prettify CDN -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=scala"></script>
</head>
<body>

<style>

    body {
        max-width           : 100%; 
        /*font-family       : 'Source Code Pro', sans-serif;*/
        font-family         : 'Roboto', sans-serif;
        font-weight         : 400;
        color               : #333;
        padding             : 4em;
        margin              : 0;
    }

    h1 {
        margin-top          : 0.5em;
        margin-bottom       : 0.5em; }

    h2,
    h3,
    h4,
    h5 {
        margin-top          : 1.5em;
        margin-bottom       : 0.5em;  }

    p.note { margin-top: 2em; }

    a { 
        color               : #333;
        text-decoration     : none; 
    }
    
    a:hover,
    a:hover:focus {
        color               : #333;
        text-decoration     : underline; 
    }

    li {
        margin-bottom       : 0.5em;
        padding-left        : 1em;
    }

    a.anchor { font-weight: 600; }

    pre.prettyprint { 
        max-width           : 100%; 
        padding             : 1em;
        white-space         : pre-wrap;
    }

    .prettyprint {
        background          : #F4F4F4;
        font-family         : Menlo, "Bitstream Vera Sans Mono", "DejaVu Sans Mono", Monaco, Consolas, monospace;
        border              : 0 !important;
    }

    .pln { color            : #333; }

    /* Specify class=linenums on a pre to get line numbering */
    ol.linenums {
        margin-top          : 0;
        margin-bottom       : 0;
        color               : #CCC;
    }

    li.L0,
    li.L1,
    li.L2,
    li.L3,
    li.L4,
    li.L5,
    li.L6,
    li.L7,
    li.L8,
    li.L9 {
        padding-left        : 1em;
        background-color    : #FFF;
        list-style-type     : decimal;
    }

    @media screen {

        /* string content */
        .str { color: #D14; }

        /* keyword */
        .kwd { color: #333; }

        /* comment */
        .com { color: #998; }

        /* type name */
        .typ { color: #458; }

        /* literal value */
        .lit { color: #458; }

        /* punctuation */
        .pun { color: #333; }

        /* lisp open bracket */
        .opn { color: #333; }

        /* lisp close bracket */
        .clo { color: #333; }

        /* markup tag name */
        .tag { color: #000080; }

        /* markup attribute name */
        .atn { color: #008080; }

        /* markup attribute value */
        .atv { color: #d14; }

        /* declaration */
        .dec { color: #333; }

        /* variable name */
        .var { color: #008080; }

        /* function name */
        .fun { color: #900; }
    }
</style>

<a href="https://michaelsjoeberg.com">Michael Sjoeberg</a>
<h1>A Scala Primer and Cheat Sheet.</h1>

<ul>
    <li><a href="#Notes">Notes</a></li>
    <li><a href="#Arithmetic-Operators">Arithmetic Operators</a></li>
    <li><a href="#Variables">Variables</a></li>
    <ul>
        <li><a href="#Variables-String-Indexing">String Indexing</a></li>
        <li><a href="#Variables-String-Operations">String Operations</a></li>
    </ul>
    <li><a href="#Data-Structures">Data Structures</a></li>
    <ul>
        <li><a href="#Data-Structures-Lists">Lists</a></li>
        <li><a href="#Data-Structures-Tuples">Tuples</a></li>
        <li><a href="#Data-Structures-Maps">Maps</a></li>
        <li><a href="#Data-Structures-Sets">Sets</a></li>
    </ul>
    <li><a href="#Conditionals">Conditionals</a></li>
    <ul>
        <li><a href="#Conditionals-If-Else-Statements">If-Else Statements</a></li>
        <li><a href="#Conditionals-Logical-Operators">Logical Operators</a></li>
    </ul>
    <li><a href="#Loops">Loops</a></li>
    <ul>
        <li><a href="#Loops-For">For</a></li>
        <li><a href="#Loops-While">While</a></li>
    </ul>
    <li><a href="#Functions">Functions</a></li>
    <li><a href="#Classes">Classes</a></li>
    <li><a href="#Files">Files</a></li>
    <li><a href="#Modules">Modules</a></li>
    <ul>
        <li><a href="#Modules-Calendar">Calendar</a></li>
        <li><a href="#Modules-Math">Math</a></li>
    </ul>
</ul>

<!-- Notes
*************************************************** -->
<h2><a id="Notes" href="#Notes" class="anchor"># Notes</a></h2>

<p class="note">Execute code.</p>
<pre class="prettyprint lang-scala">
object Main {
    // do something

    def main(args: Array[String]) {
        // do something
    }
}
</pre>

<p>Compile with: <strong>$ scalac filename.scala</strong>.</p>
<p>Run with: <strong>$ scala filename</strong>.</p>

<p class="note">Handle exceptions.</p>
<pre class="prettyprint lang-scala">
try {
    // do something
}
catch {
    case a: ArithmeticException => println("This is an arithmetic error: " + a)

    case b: Throwable => println("Error: " + b)
}
finally {
    // do something
}
</pre>

<p class="note">Add build system to compile and run with <a href="https://www.sublimetext.com/">https://www.sublimetext.com/</a>.</p>
<pre class="prettyprint lang-scala">
{
    "cmd": ["scala", "$file"],
    "path": "$PATH:/usr/local/bin",
    "file_regex": "^(.+):(\\d+): .+: (.+)",
    "selector": "source.scala"
}
</pre>

<!-- Arithmetic Operators 
*************************************************** -->
<h2><a id="Arithmetic-Operators" href="#Arithmetic-Operators" class="anchor"># Arithmetic Operators</a></h2>

<pre class="prettyprint lang-scala">
10 + 20                     // 30
20 - 10                     // 10
10 * 20                     // 200
20 / 10                     // 2
</pre>

<p class="note">Automatic floating point conversion.</p>
<pre class="prettyprint lang-scala">
10.0 + (10 + 20)            // 40.0
20.0 - (10 + 10)            // 0.0
10.0 * (10 * 2)             // 200.0
</pre>

<p class="note">Common division error.</p>
<pre class="prettyprint lang-scala">
30 / 20                     // 1
30.0 / 20.0                 // 1.5
</pre>

<p class="note">Modulo, or remainder.</p>
<pre class="prettyprint lang-scala">
12.5 % 10.0                 // 2.5
10.0 % 20.0                 // 10.0
</pre>

<p class="note">Built in numerical operations.</p>
<pre class="prettyprint lang-scala">
List(1, 2, 3, 4).sum        // 10
List(1, 2, 3, 4).min        // 1
List(1, 2, 3, 4).max        // 4
</pre>

<p class="note">See <a href="#Modules-Math"><strong>Math</strong></a> for more.</p>

<!-- Variables
*************************************************** -->
<h2><a id="Variables" href="#Variables" class="anchor"># Variables</a></h2>

<p class="note"><code class="prettyprint lang-scala">val</code> is immutable.</p>
<pre class="prettyprint lang-scala">
val x: Int = 6
val y: String = "String"
val z: Double = 1.05
</pre>

<pre class="prettyprint lang-scala">
x, y, z                         // (6,String,1.05)
</pre>

<pre class="prettyprint lang-scala">
x.getClass.getSimpleName        // int
y.getClass.getSimpleName        // String
z.getClass.getSimpleName        // double
</pre>

<p class="note"><code class="prettyprint lang-scala">var</code> is mutable.</p>
<pre class="prettyprint lang-scala">
var a = x                       // 6
</pre>

<pre class="prettyprint lang-scala">
a = a + 2                       // 8
</pre>

<p class="note">Multiple assignments.</p>
<pre class="prettyprint lang-scala">
val (x, y, z) = (6, "String", 1.05)     // (6,String,1.05)
</pre>

<p class="note">List assignments.</p>
<pre class="prettyprint lang-scala">
val List(d, t, v) = List(230, 45, 12)   // (230,45,12)
</pre>

<p class="note">String assignments.</p>
<pre class="prettyprint lang-scala">
val string: String = "100B"
</pre>

<pre class="prettyprint lang-scala">
val Array(a, b, c, d) = string.toArray  // (1,0,0,B)
</pre>

<h3><a id="Variables-String-Indexing" href="#Variables-String-Indexing" class="anchor"># String Indexing</a></h3>
<pre class="prettyprint lang-scala">
val string: String = "proton"
</pre>

<pre class="prettyprint lang-scala">
string.charAt(0)                        // p
string.slice(0,4)                       // prot
</pre>

<p class="note">Indexing using <code class="prettyprint lang-scala">length</code>.</p>
<pre class="prettyprint lang-scala">
string.length                                           // 6
</pre>

<pre class="prettyprint lang-scala">
string.substring(0, string.length)                      // proton
string.substring(string.length - 4, string.length)      // oton
</pre>

<h3><a id="Variables-String-Operations" href="#Variables-String-Operations" class="anchor"># String Operations</a></h3>
<pre class="prettyprint lang-scala">
"kilo" ++ "meter"                       // kilometer
"A" * 4                                 // AAAA
</pre>

<pre class="prettyprint lang-scala">
val string: String = "proton neutron"
</pre>

<pre class="prettyprint lang-scala">
string.capitalize                       // Proton neutron
string.toUpperCase                      // PROTON NEUTRON
string.toLowerCase                      // proton neutron
</pre>

<p class="note">Counting and finding letters in text.</p>
<pre class="prettyprint lang-scala">
string.count(_ == 'p')                  // 1
string.indexOf("t")                     // 3
</pre>

<p class="note">Removing whitespace from a string.</p>
<pre class="prettyprint lang-scala">
val string: String = "    some text    "
</pre>

<pre class="prettyprint lang-scala">
string.trim                             // some text
</pre>

<!-- Data Structures
*************************************************** -->
<h2><a id="Data-Structures" href="#Data-Structures" class="anchor"># Data Structures</a></h2>

<h3><a id="Data-Structures-Lists" href="#Data-Structures-Lists" class="anchor"># Lists</a></h3>

<p class="note">Lists are immutable.</p>
<pre class="prettyprint lang-scala">
val list_one: List[String] = List("Alpha", "Beta")          // List(Alpha, Beta)
val list_two: List[Any] = List(200, -2, List(1.0, 0.0))     // List(200, -2, List(1.0, 0.0))
</pre>

<pre class="prettyprint lang-scala">
val list_range: List[Int] = List.range(1, 10)               // List(1, 2, 3, 4, 5, 6, 7, 8, 9)
</pre>

<p class="note">Concatenate lists.</p>
<pre class="prettyprint lang-scala">
val list_all = list_one ++ list_two             // List(Alpha, Beta, 200, -2, List(1.0, 0.0))
</pre>

<p class="note">Create list with item added to an existing list.</p>
<pre class="prettyprint lang-scala">
val list_one_new = "Gamma"  :: list_one         // List(Gamma, Alpha, Beta)
</pre>

<p class="note">List operations.</p>
<pre class="prettyprint lang-scala">
list_one_new.length                             // 3
list_one_new.sorted                             // List(Alpha, Beta, Gamma)
list_two.head                                   // 200
list_two.last                                   // List(1.0, 0.0)
</pre>

<pre class="prettyprint lang-scala">
list_range.filter(_ > 5)                        // List(6, 7, 8, 9)
</pre>

<p class="note">Create list from a string.</p>
<pre class="prettyprint lang-scala">
val list_char: List[Char] = ("100B").toList     // List(1, 0, 0, B)
</pre>

<h3><a id="Data-Structures-Tuples" href="#Data-Structures-Tuples" class="anchor"># Tuples</a></h3>

<p class="note">Tuples are immutable.</p>
<pre class="prettyprint lang-scala">
val tuple_one = (1.0, "String", 4)              // (1.0,String,4)
val tuple_two = ("Alpha", "Bravo", (1, 0))      // (Alpha,Bravo,(1,0))
</pre>

<pre class="prettyprint lang-scala">
tuple_one._2                                    // String
tuple_two._3._2                                 // 0
</pre>

<p class="note">Assign each value in tuple to a variable, see <a href="#Variables" class="anchor">Variables</a> for more.</p>
<pre class="prettyprint lang-scala">
val (first, second, third) = ("Alpha", "Beta", "Gamma")
</pre>

<pre class="prettyprint lang-scala">
first                                   // Alpha
second                                  // Beta
third                                   // Gamma
</pre>

<h3><a id="Data-Structures-Maps" href="#Data-Structures-Maps" class="anchor"># Maps</a></h3>

<p class="note">Maps, or hash tables, with key:value pairs are immutable.</p>
<pre class="prettyprint lang-scala">
val map_any = Map("Adam" -> List("adam@email.com", 2445055),
                  "Bard" -> "bard@email.com" )
</pre>

<pre class="prettyprint lang-scala">
map_any("Adam")                                     // List(adam@email.com, 2445055)
</pre>

<pre class="prettyprint lang-scala">
map_any.contains("Bard")                            // true
map_any.exists(_ == "Bard" -> "bard@email.com")     // true
</pre>

<p class="note">Mutable map.</p>
<pre class="prettyprint lang-scala">
val map_mutable = scala.collection.mutable.Map[String, Int]()
</pre>

<pre class="prettyprint lang-scala">
map_mutable += ("Alpha" -> 1, "Beta" -> 2)          // Map(Beta -> 2, Alpha -> 1)
map_mutable -= "Beta"                               // Map(Alpha -> 1)
</pre>

<pre class="prettyprint lang-scala">
map_mutable("Alpha") = 100                          // Map(Alpha -> 100)
</pre>

<h3><a id="Data-Structures-Sets" href="#Data-Structures-Sets" class="anchor"># Sets</a></h3>

<p class="note">Sets are immutable.</p>
<pre class="prettyprint lang-scala">
val set_numbers: Set[Int] = Set(1, 3, 5, 7, 9)      // Set(5, 1, 9, 7, 3)
</pre>

<pre class="prettyprint lang-scala">
set_numbers.contains(3)                             // true
set_numbers.contains(2)                             // false
</pre>

<p class="note">Mutable set.</p>
<pre class="prettyprint lang-scala">
val set_mutable_one = scala.collection.mutable.Set(1, 3, 5)
val set_mutable_two = scala.collection.mutable.Set(5, 7, 9)
</pre>

<pre class="prettyprint lang-scala">
set_mutable_two += 11                               // Set(9, 5, 7, 11)
set_mutable_two -= 11                               // Set(9, 5, 7)
</pre>

<p class="note">Set operations.</p>
<pre class="prettyprint lang-scala">
val A = set_mutable_one.clone
val B = set_mutable_two.clone
</pre>

<pre class="prettyprint lang-scala">
A | B                                               // Set(9, 1, 5, 3, 7)
A & B                                               // Set(5)
A &~ B                                              // Set(1, 3)
</pre>

<pre class="prettyprint lang-scala">
A union B                                           // Set(9, 1, 5, 3, 7)
A intersect B                                       // Set(5)
A diff B                                            // Set(1, 3)
</pre>

<pre class="prettyprint lang-scala">
A subsetOf B                                        // false
</pre>

<!-- Conditionals
*************************************************** -->
<h2><a id="Conditionals" href="#Conditionals" class="anchor"># Conditionals</a></h2>

<h3><a id="Conditionals-If-Else-Statements" href="#Conditionals-If-Else-Statements" class="anchor"># If-Else Statements</a></h3>

<pre class="prettyprint lang-scala">
val a: Double = 1.0
val b: Double = 5.0
</pre>

<pre class="prettyprint lang-scala">
if (a < 1.0) {
    // do something
}
else if (a == 1.0) {
    // do something
}
else {
    // do something
}
</pre>

<h3><a id="Conditionals-Logical-Operators" href="#Conditionals-Logical-Operators" class="anchor"># Logical Operators</a></h3>

<pre class="prettyprint lang-scala">
val T: Boolean = true
val F: Boolean = false
</pre>

<pre class="prettyprint lang-scala">
T || F                      // true
T && (T && F)               // false
!T                          // false
!(!T)                       // true
</pre>

<pre class="prettyprint lang-scala">
1 == 2                      // false
1 != 2                      // true
</pre>

<!-- Loops
*************************************************** -->
<h2><a id="Loops" href="#Loops" class="anchor"># Loops</a></h2>

<h3><a id="Loops-For" href="#Loops-For" class="anchor"># For</a></h3>
<pre class="prettyprint lang-scala">
val numbers: List[Int] = List(1, 2, 3, 4)       // List(1, 2, 3, 4)
</pre>

<pre class="prettyprint lang-scala">
for (number <- numbers) {
    // do something
}
</pre>

<p class="note">Nested for loops.</p>
<pre class="prettyprint lang-scala">
for (i <- List.range(1, 5)) {
    for (j <- List.range(1, 5)) {
        // do something
    }
}
</pre>

<p class="note">Using for loops and maps.</p>
<pre class="prettyprint lang-scala">
val map: Map[String, Int] = Map("Alpha" -> 1, "Beta" -> 2)
</pre>

<pre class="prettyprint lang-scala">
for ((k, v) <- map) {
    println(k, v)                       // (Alpha,1) (Beta,2)
}
</pre>

<h3><a id="Loops-While" href="#Loops-While" class="anchor"># While</a></h3>
<pre class="prettyprint lang-scala">
var a = 0
var b = 5
</pre>

<pre class="prettyprint lang-scala">
while (a < b) {
    // do something

    a += 1
}
</pre>

<!-- Functions
*************************************************** -->
<h2><a id="Functions" href="#Functions" class="anchor"># Functions</a></h2>

<pre class="prettyprint lang-scala">
def function(): Boolean = {
    // do something

    return true
}
</pre>

<pre class="prettyprint lang-scala">
def add(a:Int, b:Int): Int = {
    
    return a + b
}
</pre>

<pre class="prettyprint lang-scala">
add(2, 3)                               // 5
</pre>

<p class="note">Default arguments.</p>
<pre class="prettyprint lang-scala">
def add(a:Int, b:Int = 3): Int = {
    
    return a + b
}
</pre>

<pre class="prettyprint lang-scala">
add(2)                                  // 5
</pre>

<p class="note">Multiple return values.</p>
<pre class="prettyprint lang-scala">
def add(a:Int, b:Int): (Int, Int, Int) = {
    var result = a + b
    
    return (a, b, result)
}
</pre>

<pre class="prettyprint lang-scala">
val (a, b, result) = add(2, 3)          // (2,3,5)
</pre>

<p class="note">Documentation (scaladoc).</p>
<pre class="prettyprint lang-scala">
/** Print the argument passed to function.
 *
 *  @param arg an argument
 */
def print(arg:String) = {
    
    // print argument
    println(arg)
}
</pre>

<!-- Classes
*************************************************** -->
<h2><a id="Classes" href="#Classes" class="anchor"># Classes</a></h2>

<pre class="prettyprint lang-scala">
class Money(val a:Int, val c:String) {
    var amount: Int = a
    var currency: String = c
    
    override def toString = amount.toString ++ " " ++ currency
}
</pre>

<p class="note">Create a new instance of class.</p>
<pre class="prettyprint lang-scala">
val money = new Money(220, "EUR")

money.amount, money.currency                // (220,EUR)
</pre>

<pre class="prettyprint lang-scala">
println(money)                              // 220 EUR
</pre>

<p class="note">Subclasses.</p>
<pre class="prettyprint lang-scala">
class VirtualMoney(override val a:Int, override val c:String, val d:String) extends Money(a, c) {

    var date: String = d
    
    override def toString = amount.toString ++ " " ++ currency ++ " (use before " ++ date ++ ")"
}
</pre>

<pre class="prettyprint lang-scala">
val virtual_money = new VirtualMoney(20, "DIS", "2018-12-31")
</pre>

<pre class="prettyprint lang-scala">
println(virtual_money)                      // 20 DIS (use before 2018-12-31)
</pre>

<!-- Files
*************************************************** -->
<h2><a id="Files" href="#Files" class="anchor"># Files</a></h2>

<p class="note">Read lines from a file.</p>
<pre class="prettyprint lang-scala">
import scala.io.Source
</pre>

<pre class="prettyprint lang-scala">
val file = Source.fromFile("path/to/file")
</pre>

<pre class="prettyprint lang-scala">
for (line <- file.getLines) {
    // do something
}
</pre>

<pre class="prettyprint lang-scala">
file.close
</pre>

<p class="note">Write data to a text-file.</p>
<pre class="prettyprint lang-scala">
import java.io._
</pre>

<pre class="prettyprint lang-scala">
val file = new File("path/to/file.txt")
</pre>

<pre class="prettyprint lang-scala">
val buffer = new BufferedWriter(new FileWriter(file))

buffer.write("Text.")
</pre>

<pre class="prettyprint lang-scala">
buffer.close
</pre>

<!-- Modules
*************************************************** -->
<h2><a id="Modules" href="#Modules" class="anchor"># Modules</a></h2>

<h3><a id="Modules-Calendar" href="#Modules-Calendar" class="anchor"># Calendar</a></h3>

<pre class="prettyprint lang-scala">
import java.util.Calendar
import java.text.SimpleDateFormat
</pre>

<pre class="prettyprint lang-scala">
val now = Calendar.getInstance.getTime      // Sun Jun 17 19:18:49 CEST 2018
</pre>

<p class="note">Date formats.</p>
<pre class="prettyprint lang-scala">
val year = new SimpleDateFormat("yyyy")
val month = new SimpleDateFormat("M")
val day = new SimpleDateFormat("d")
val hour = new SimpleDateFormat("H")
val minute = new SimpleDateFormat("m")
</pre>

<pre class="prettyprint lang-scala">
year.format(now)                            // 2018
month.format(now)                           // 6
day.format(now)                             // 17
hour.format(now)                            // 19
minute.format(now)                          // 18
</pre>

<h3><a id="Modules-Math" href="#Modules-Math" class="anchor"># Math</a></h3>

<pre class="prettyprint lang-scala">
import scala.math._
</pre>

<pre class="prettyprint lang-scala">
scala.math.Pi                               // 3.141592653589793
scala.math.E                                // 2.718281828459045
</pre>

<p class="note">Numerical operations, more at <a href="https://www.scala-lang.org/api/2.12.3/scala/math/index.html">https://www.scala-lang.org/api/2.12.3/scala/math/index.html</a>.</p>
<pre class="prettyprint lang-scala">
scala.math.abs(-20)                         // 20
</pre>

<pre class="prettyprint lang-scala">
scala.math.pow(2, 3)                        // 8.0
scala.math.floor(2.945)                     // 2.0
scala.math.exp(1)                           // 2.718281828459045
scala.math.sqrt(16)                         // 4.0
</pre>

<pre class="prettyprint lang-scala">
scala.math.sin(4 * math.Pi / 180)           // 0.0697564737441253
</pre>

<p class="note">Rounding values.</p>
<pre class="prettyprint lang-scala">
scala.math.round(2.945)                     // 3
scala.math.round(2.495)                     // 2
</pre>

<pre class="prettyprint lang-scala">
scala.math.rint(2.945 * 100) / 100          // 2.94
</pre>






</body>
</html>